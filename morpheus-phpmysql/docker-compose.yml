version: '3.8'

services:
  phpmyadmin:
    image: phpmyadmin/phpmyadmin:latest
    container_name: morpheus-phpmyadmin
    restart: unless-stopped
    ports:
      - "${PMA_PORT}:80"
    environment:
      PMA_HOST: host.docker.internal
      PMA_PORT: "${MYSQL_PORT}"
      PMA_USER: "${PMA_USER}"
      PMA_PASSWORD: "${PASS_MYSQL}"
      UPLOAD_LIMIT: 256M
      PMA_ABSOLUTE_URI: "http://localhost:${PMA_PORT}/"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - phpmyadmin_sessions:/sessions

volumes:
  phpmyadmin_sessions:
